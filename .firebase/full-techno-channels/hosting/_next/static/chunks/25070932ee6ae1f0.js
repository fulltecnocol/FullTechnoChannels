(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30257,e=>{"use strict";var a=e.i(43476),s=e.i(71645),t=e.i(18566),r=e.i(39312),l=e.i(52754),i=e.i(61911),n=e.i(73264),d=e.i(75254);let c=(0,d.default)("life-buoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);var o=e.i(25652);let m=(0,d.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),x=(0,d.default)("shield-ellipsis",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]]);var p=e.i(31278),u=e.i(37727),h=e.i(39616),b=e.i(61659),f=e.i(21557);let g=(0,d.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);var j=e.i(92161);let N=(0,d.default)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);var y=e.i(8402),v=e.i(27612),w=e.i(9165);function k({summary:e,onTabChange:s}){let t=[{label:"Mis Suscriptores",value:e?.active_subscribers||"0",change:"En tiempo real",icon:i.Users,color:"text-emerald-500",tab:"channels"},{label:"Balance Disponible",value:`$${(e?.available_balance||0).toFixed(2)}`,change:"De tus canales",icon:l.Wallet,color:"text-blue-500",tab:"wallet"},{label:"Ganancia Afiliados",value:`$${(e?.affiliate_balance||0).toFixed(2)}`,change:"Vitalicia",icon:o.TrendingUp,color:"text-amber-500",tab:"affiliates"},{label:"Canales Activos",value:e?.active_channels||"0",change:"OK",icon:n.LayoutGrid,color:"text-emerald-400",tab:"channels"},...e?.is_admin?[{label:"Tax & Compliance",value:"Tax Hub",change:"Admin Only",icon:f.Calculator,color:"text-primary",tab:"admin_tax"}]:[]];return(0,a.jsx)("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 animate-fade-in-up",children:t.map((e,t)=>(0,a.jsxs)("div",{onClick:()=>s&&e.tab&&s(e.tab),className:`premium-card p-6 border-surface-border bg-gradient-to-br from-surface to-background relative overflow-hidden group hover:scale-[1.02] transition-transform ${e.tab?"cursor-pointer":""}`,children:[(0,a.jsx)("div",{className:`absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity ${e.color}`,children:(0,a.jsx)(e.icon,{className:"w-24 h-24"})}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("div",{className:`p-3 w-fit rounded-xl bg-surface mb-4 ${e.color}`,children:(0,a.jsx)(e.icon,{className:"w-6 h-6"})}),(0,a.jsx)("p",{className:"text-xs font-bold text-muted uppercase tracking-widest mb-1",children:e.label}),(0,a.jsx)("h3",{className:"text-2xl font-black tracking-tight",children:e.value}),(0,a.jsxs)("p",{className:"text-[10px] font-bold text-muted mt-2 flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),e.change]})]})]},t))})}let C=(0,d.default)("megaphone",[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]]);var _=e.i(72520),S=e.i(12426);function A({channels:e,onEditBranding:s,onManagePromos:t,onManagePlans:r,onViewSubscribers:l,onLinkChannel:n,onDeleteChannel:d,isLoading:c}){return c?(0,a.jsx)("div",{className:"p-10 text-center text-muted animate-pulse",children:"Cargando canales..."}):(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6",children:e.map(e=>{let c,o;return(0,a.jsxs)("div",{className:"premium-card p-6 flex flex-col md:flex-row md:items-center justify-between gap-6 group hover:border-primary/30 transition-all",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-surface flex items-center justify-center shrink-0 border border-surface-border relative overflow-hidden",children:e.logo_url?(0,a.jsx)("img",{src:e.logo_url,alt:e.title,className:"w-full h-full object-cover"}):(0,a.jsx)("span",{className:"text-2xl font-bold text-muted opacity-30",children:e.title.charAt(0)})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-black tracking-tight flex items-center gap-2",children:[e.title,e.is_verified?(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full bg-emerald-500/10 text-emerald-500 text-[9px] uppercase tracking-widest font-black border border-emerald-500/20",children:"Verificado"}):(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full bg-amber-500/10 text-amber-500 text-[9px] uppercase tracking-widest font-black border border-amber-500/20 animate-pulse",children:"Pendiente Link"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-1 text-xs font-bold text-muted",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(i.Users,{className:"w-3.5 h-3.5"})," ",e.subscriber_count||0," Subs"]}),(0,a.jsx)("span",{className:"w-1 h-1 rounded-full bg-surface-border"}),(0,a.jsx)("span",{children:e.plans&&e.plans.length>0?(o=(c=e.plans.filter(e=>e.is_active)).length>0?Math.min(...c.map(e=>e.price)):e.plans[0].price,`Desde $${o} USD`):"Sin precio"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[!e.is_verified&&(0,a.jsx)("button",{onClick:()=>n(e),className:"px-4 py-2 bg-amber-500/10 text-amber-500 rounded-xl text-xs font-bold hover:bg-amber-500/20 transition-all flex items-center gap-2",children:"¿Cómo vincular?"}),(0,a.jsx)("button",{onClick:()=>t(e),className:"p-2.5 text-muted hover:text-primary bg-surface hover:bg-surface-border rounded-xl transition-all tooltip-trigger",title:"Gestionar Ofertas",children:(0,a.jsx)(C,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>r(e),className:"p-2.5 text-muted hover:text-primary bg-surface hover:bg-surface-border rounded-xl transition-all",title:"Gestionar Precios",children:(0,a.jsx)(S.DollarSign,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>s(e),className:"p-2.5 text-muted hover:text-primary bg-surface hover:bg-surface-border rounded-xl transition-all",title:"Editar Branding",children:(0,a.jsx)(h.Settings,{className:"w-4 h-4"})}),(0,a.jsxs)("button",{onClick:()=>l(e.id),className:"px-5 py-2.5 bg-primary text-primary-foreground rounded-xl font-bold text-xs shadow-lg shadow-primary/20 hover:scale-105 transition-transform flex items-center gap-2",children:["Ver Suscriptores ",(0,a.jsx)(_.ArrowRight,{className:"w-3.5 h-3.5"})]}),(0,a.jsxs)("button",{onClick:()=>d(e.id),className:"p-2.5 text-muted hover:text-red-500 bg-surface hover:bg-red-500/10 rounded-xl transition-all",title:"Eliminar Canal",children:[(0,a.jsx)(v.Trash2,{className:"w-4 h-4"})," "]})]})]},e.id)})})}var P=e.i(95468);let E=(0,d.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),T=(0,d.default)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);function M({isOpen:e,onClose:s,onSubmit:t,step:r,createdChannel:l,copyToClipboard:i}){return e?(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-background/90 backdrop-blur-md animate-in fade-in duration-300",children:(0,a.jsxs)("div",{className:"w-full max-w-xl premium-card p-10 space-y-8 animate-in zoom-in-95 duration-300 shadow-2xl border-primary/20 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/50 to-transparent"}),(0,a.jsxs)("header",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:(0,a.jsx)(n.LayoutGrid,{className:"w-6 h-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Vincular Nuevo Canal"}),(0,a.jsxs)("p",{className:"text-[10px] text-muted font-bold uppercase tracking-widest",children:["Paso ",r," de 2"]})]})]}),(0,a.jsx)("button",{onClick:s,className:"p-2 hover:bg-surface-border rounded-lg transition-colors",children:(0,a.jsx)(u.X,{className:"w-5 h-5 text-muted hover:text-foreground"})})]}),1===r?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-xs font-black uppercase tracking-widest text-muted flex items-center gap-2",children:"Apertura de Registro"}),(0,a.jsx)("input",{id:"new_channel_title",type:"text",placeholder:"Ej: Canal de Señales VIP",autoFocus:!0,className:"w-full p-4 bg-background border border-surface-border rounded-xl focus:ring-1 ring-primary outline-none font-bold text-lg placeholder:font-medium placeholder:text-muted/40 transition-all"}),(0,a.jsx)("div",{className:"p-4 bg-secondary/5 border border-secondary/10 rounded-xl",children:(0,a.jsx)("p",{className:"text-xs text-muted-foreground font-medium leading-relaxed",children:"Este título es descriptivo. Podrás cambiar el branding y el nombre del canal en los siguientes pasos."})})]}),(0,a.jsxs)("button",{onClick:()=>{let e=document.getElementById("new_channel_title").value;if(!e)return alert("Por favor introduce un nombre para el canal.");t(e)},className:"w-full py-4 bg-primary text-primary-foreground rounded-xl font-bold shadow-xl shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2 group",children:["Generar Código de Vinculación ",(0,a.jsx)(_.ArrowRight,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]}):(0,a.jsxs)("div",{className:"space-y-8 animate-in slide-in-from-right-4 duration-500",children:[(0,a.jsxs)("div",{className:"p-5 bg-emerald-500/5 border border-emerald-500/10 rounded-2xl relative overflow-hidden group",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:scale-110 transition-transform",children:(0,a.jsx)(P.CheckCircle2,{className:"w-16 h-16 text-emerald-500"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-emerald-500 font-bold text-sm mb-1",children:[(0,a.jsx)(P.CheckCircle2,{className:"w-5 h-5"})," Registro Iniciado"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground font-medium leading-relaxed max-w-[85%]",children:["Se ha generado el código único para ",(0,a.jsx)("b",{children:l?.title}),". Sigue los pasos para completar la integración."]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{className:"text-[10px] font-black text-primary uppercase tracking-widest flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-4 h-4 rounded-full bg-primary text-[8px] flex items-center justify-center text-white",children:"1"}),"Copia tu Código de Vinculación"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 p-5 bg-background border border-surface-border rounded-2xl font-mono text-xl font-bold group hover:border-primary/30 transition-all cursor-pointer",onClick:()=>i(l?.validation_code),children:[(0,a.jsx)("span",{className:"flex-1 tracking-wider text-primary",children:l?.validation_code}),(0,a.jsx)("div",{className:"p-2 bg-primary/5 rounded-lg text-primary group-hover:bg-primary group-hover:text-white transition-all",children:(0,a.jsx)(m,{className:"w-5 h-5"})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-[10px] font-black text-primary uppercase tracking-widest flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-4 h-4 rounded-full bg-primary text-[8px] flex items-center justify-center text-white",children:"2"}),"Vincular en Telegram"]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("a",{href:`https://t.me/FullT_GuardBot?start=${l?.validation_code}`,target:"_blank",rel:"noopener noreferrer",className:"w-full py-5 bg-[#0088cc] text-white rounded-2xl font-bold shadow-xl shadow-blue-500/20 hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-3 group",children:[(0,a.jsx)(E,{className:"w-6 h-6 group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform"}),"Abrir Bot de Vinculación"]}),(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-amber-500/5 border border-amber-500/10 rounded-2xl",children:[(0,a.jsx)("div",{className:"p-1.5 bg-amber-500/20 rounded-lg shrink-0",children:(0,a.jsx)(T,{className:"w-4 h-4 text-amber-500"})}),(0,a.jsxs)("p",{className:"text-[10px] font-bold text-amber-500/80 leading-relaxed uppercase tracking-wide",children:["Asegúrate de que el bot sea ",(0,a.jsx)("b",{children:"Administrador"})," en tu canal privado antes de enviarle el código."]})]})]})]})]}),(0,a.jsx)("button",{onClick:s,className:"w-full py-4 text-muted font-black text-xs hover:text-primary transition-all uppercase tracking-widest border border-transparent hover:border-surface-border rounded-xl",children:"Entendido, volver al dashboard"})]})]})}):null}let D=(0,d.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);function $({summary:e,withdrawals:t,withdrawalOptions:r,onRequestWithdrawal:i,statusLabels:n,statusColors:d}){let[c,o]=(0,s.useState)("stripe"),[m,x]=(0,s.useState)(""),[p,u]=(0,s.useState)("");return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"p-6 bg-surface border border-surface-border rounded-2xl shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest text-primary mb-6 flex items-center gap-2",children:[(0,a.jsx)(l.Wallet,{className:"w-4 h-4"})," Solicitar Retiro"]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-muted uppercase",children:"Monto a Retirar (USD)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-muted font-bold",children:"$"}),(0,a.jsx)("input",{id:"w_amount",type:"number",placeholder:"0.00",min:"50",max:(e?.available_balance||0).toFixed(2),value:m,onChange:e=>x(e.target.value),className:"w-full p-4 pl-8 bg-background border border-surface-border rounded-xl font-bold text-lg outline-none focus:ring-1 ring-primary transition-all"})]}),(0,a.jsxs)("p",{className:"text-[10px] text-muted font-bold text-right",children:["Disponible: $",(e?.available_balance||0).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-muted uppercase",children:"Método de Pago"}),(0,a.jsx)("div",{className:"space-y-2",children:r.map(e=>(0,a.jsxs)("label",{className:`flex items-start gap-3 p-3 rounded-xl border cursor-pointer transition-all ${c===e.id?"bg-primary/5 border-primary shadow-sm":"bg-background border-surface-border hover:border-primary/50"} ${!e.active?"opacity-50 grayscale":""}`,children:[(0,a.jsx)("input",{type:"radio",name:"w_method",value:e.id,checked:c===e.id,disabled:!e.active,onChange:e=>o(e.target.value),className:"mt-1 accent-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-sm",children:e.name}),(0,a.jsx)("p",{className:"text-[10px] text-muted font-medium",children:e.description})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-muted uppercase",children:"Detalles de la Cuenta"}),(0,a.jsx)("textarea",{id:"w_details",placeholder:"Ej: Email de Stripe, Numero de cuenta, Dirección TRC20...",value:p,onChange:e=>u(e.target.value),className:"w-full p-4 bg-background border border-surface-border rounded-xl font-medium text-sm outline-none focus:ring-1 ring-primary transition-all min-h-[100px]"})]}),(0,a.jsx)("button",{onClick:()=>{let e=parseFloat(m);if(!e||!p)return alert("Completa todos los campos");i(e,c,p)},className:"w-full py-4 bg-primary text-primary-foreground rounded-xl font-bold shadow-xl shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all",children:"Confirmar Solicitud"}),(0,a.jsx)("p",{className:"text-[10px] text-center text-muted font-medium",children:"Mínimo de retiro $50.00 USD. Procesamiento en 24-48h hábiles."})]})]})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("h3",{className:"text-sm font-bold uppercase tracking-widest text-primary flex items-center gap-2",children:[(0,a.jsx)(D,{className:"w-4 h-4"})," Historial de Transacciones"]}),(0,a.jsxs)("div",{className:"premium-card overflow-hidden",children:[(0,a.jsx)("div",{className:"hidden md:block overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-surface border-b border-surface-border text-left",children:[(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider text-left",children:"Fecha"}),(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider text-left",children:"Método"}),(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider text-left",children:"Monto"}),(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider text-left",children:"Estado"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-surface-border",children:t.length>0?t.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-background/50 transition-colors",children:[(0,a.jsx)("td",{className:"p-4 font-bold text-muted",children:new Date(e.request_date).toLocaleDateString()}),(0,a.jsx)("td",{className:"p-4 font-bold text-foreground capitalize",children:e.method}),(0,a.jsxs)("td",{className:"p-4 font-bold text-foreground",children:["$",e.amount.toFixed(2)]}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-widest border ${d[e.status]||"bg-gray-500/10 text-gray-500 border-gray-500/20"}`,children:n[e.status]||e.status})})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"p-10 text-center text-muted font-bold",children:"No hay retiros registrados aún."})})})]})}),(0,a.jsx)("div",{className:"md:hidden space-y-4 p-4",children:t.length>0?t.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-background border border-surface-border rounded-xl flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-widest border ${d[e.status]||"bg-gray-500/10 text-gray-500 border-gray-500/20"}`,children:n[e.status]||e.status}),(0,a.jsx)("span",{className:"text-[10px] text-muted font-bold",children:new Date(e.request_date).toLocaleDateString()})]}),(0,a.jsx)("p",{className:"font-bold text-foreground capitalize text-sm",children:e.method})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("span",{className:"block font-black text-foreground",children:["$",e.amount.toFixed(2)]})})]},e.id)):(0,a.jsx)("div",{className:"p-8 text-center text-muted font-bold text-sm",children:"No hay retiros registrados aún."})})]})]})]})}var z=e.i(86311);function R({tickets:e,isAdmin:s,onAdminViewTicket:t}){return(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in-up",children:[(0,a.jsxs)("div",{className:"premium-card p-8 bg-surface/50 border-primary/20 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-10 opacity-5",children:(0,a.jsx)(c,{className:"w-40 h-40 text-primary"})}),(0,a.jsxs)("h2",{className:"text-xl font-black uppercase tracking-tight flex items-center gap-3",children:[(0,a.jsx)(c,{className:"w-6 h-6 text-primary"})," Centro de Soporte"]}),(0,a.jsx)("p",{className:"text-muted font-medium mt-2 max-w-2xl",children:s?"Gestiona los tickets de soporte de los usuarios.":"¿Tienes algún problema o duda? Abre un ticket y nuestro equipo te ayudará lo antes posible."})]}),(0,a.jsxs)("div",{className:"premium-card overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto hidden md:block",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-surface border-b border-surface-border text-left",children:[(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider",children:"ID"}),(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider",children:"Asunto"}),(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider",children:"Estado"}),(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider",children:"Última Actualización"}),s&&(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider",children:"Acción"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-surface-border",children:e.length>0?e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-background/50 transition-colors",children:[(0,a.jsxs)("td",{className:"p-4 font-mono text-xs text-muted",children:["#",e.id.slice(0,8)]}),(0,a.jsx)("td",{className:"p-4 font-bold text-foreground",children:e.subject}),(0,a.jsx)("td",{className:"p-4",children:(0,a.jsx)("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-black uppercase tracking-widest border ${"open"===e.status?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"waiting_user"===e.status?"bg-amber-500/10 text-amber-500 border-amber-500/20":"bg-gray-500/10 text-gray-500 border-gray-500/20"}`,children:"open"===e.status?"Abierto":"closed"===e.status?"Cerrado":"Esperando Respuesta"})}),(0,a.jsx)("td",{className:"p-4 text-muted font-medium",children:new Date(e.updated_at).toLocaleDateString()}),s&&(0,a.jsx)("td",{className:"p-4",children:(0,a.jsxs)("button",{onClick:()=>t(e.id),className:"p-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-all font-bold text-xs flex items-center gap-1",children:[(0,a.jsx)(z.MessageSquare,{className:"w-3 h-3"})," Ver"]})})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsxs)("td",{colSpan:s?5:4,className:"p-20 text-center space-y-4",children:[(0,a.jsx)(c,{className:"w-12 h-12 text-muted mx-auto opacity-20"}),(0,a.jsx)("p",{className:"text-muted font-bold",children:"No hay tickets de soporte activos."}),!s&&(0,a.jsx)("button",{className:"px-6 py-3 bg-primary text-primary-foreground rounded-xl font-bold shadow-lg shadow-primary/20",children:"Crear Nuevo Ticket"})]})})})]})}),(0,a.jsx)("div",{className:"md:hidden space-y-4 p-4",children:e.length>0?e.map(e=>(0,a.jsxs)("div",{className:"p-4 bg-background border border-surface-border rounded-xl space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"font-mono text-xs text-muted",children:["#",e.id.slice(0,8)]}),(0,a.jsx)("span",{className:`px-2 py-0.5 rounded-full text-[9px] font-black uppercase tracking-widest border ${"open"===e.status?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"waiting_user"===e.status?"bg-amber-500/10 text-amber-500 border-amber-500/20":"bg-gray-500/10 text-gray-500 border-gray-500/20"}`,children:"open"===e.status?"Abierto":"closed"===e.status?"Cerrado":"Espera"})]}),(0,a.jsx)("h3",{className:"font-bold text-foreground text-sm",children:e.subject}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-[10px] text-muted font-bold",children:new Date(e.updated_at).toLocaleDateString()}),s&&(0,a.jsxs)("button",{onClick:()=>t(e.id),className:"p-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-all font-bold text-xs flex items-center gap-1",children:[(0,a.jsx)(z.MessageSquare,{className:"w-3 h-3"})," Ver"]})]})]},e.id)):(0,a.jsxs)("div",{className:"p-8 text-center space-y-4",children:[(0,a.jsx)(c,{className:"w-10 h-10 text-muted mx-auto opacity-20"}),(0,a.jsx)("p",{className:"text-muted font-bold text-sm",children:"No hay tickets de soporte."}),!s&&(0,a.jsx)("button",{className:"w-full py-3 bg-primary text-primary-foreground rounded-xl font-bold shadow-lg shadow-primary/20 text-xs",children:"Crear Ticket"})]})})]})]})}var L=e.i(84614),I=e.i(70756);let G=(0,d.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var U=e.i(81418);function F({user:e,isRecovery:t,onUpdateProfile:r,onUpdatePassword:l}){let[i,n]=(0,s.useState)(e?.full_name||""),[d,c]=(0,s.useState)(e?.avatar_url||""),[o,m]=(0,s.useState)(""),[x,p]=(0,s.useState)(""),[u,h]=(0,s.useState)("");return!i&&e?.full_name&&n(e.full_name),!d&&e?.avatar_url&&c(e.avatar_url),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"premium-card p-1 bg-gradient-to-br from-primary via-primary/50 to-amber-500 rounded-3xl",children:(0,a.jsxs)("div",{className:"bg-surface rounded-[22px] p-8 h-full space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 border-b border-surface-border pb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-primary/10 rounded-2xl",children:(0,a.jsx)(L.User,{className:"w-6 h-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-black text-lg tracking-tight",children:"Información Personal"}),(0,a.jsx)("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:"Tus datos públicos"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"w-24 h-24 rounded-full bg-surface-border relative overflow-hidden ring-4 ring-surface shadow-2xl",children:[d?(0,a.jsx)("img",{src:d,alt:"Avatar",className:"w-full h-full object-cover"}):(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-primary/10 text-primary text-3xl font-black",children:i?.charAt(0)||e?.email?.charAt(0)}),(0,a.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity cursor-pointer",children:(0,a.jsx)("span",{className:"text-[10px] font-bold text-white uppercase tracking-widest",children:"Cambiar"})})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-muted uppercase",children:"Nombre Completo"}),(0,a.jsx)("input",{type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"Tu Nombre",className:"w-full p-4 bg-background border border-surface-border rounded-xl font-bold outline-none focus:ring-1 ring-primary focus:border-primary transition-all"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-muted uppercase",children:"URL Avatar"}),(0,a.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"https://...",className:"w-full p-4 bg-background border border-surface-border rounded-xl font-medium text-sm outline-none focus:ring-1 ring-primary focus:border-primary transition-all"})]}),(0,a.jsxs)("div",{className:"space-y-2 opacity-50 pointer-events-none",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-muted uppercase",children:"Email (No editable)"}),(0,a.jsx)("input",{type:"email",value:e?.email||"",readOnly:!0,className:"w-full p-4 bg-background border border-surface-border rounded-xl font-bold outline-none"})]})]}),(0,a.jsxs)("button",{onClick:()=>r(i,d),className:"w-full py-4 bg-primary text-primary-foreground rounded-xl font-bold shadow-xl shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[(0,a.jsx)(G,{className:"w-5 h-5"})," Guardar Cambios"]})]})]})})}),(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"premium-card p-1 bg-gradient-to-br from-surface-border via-surface-border to-surface-border rounded-3xl",children:(0,a.jsxs)("div",{className:"bg-surface rounded-[22px] p-8 h-full space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 border-b border-surface-border pb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-red-500/10 rounded-2xl",children:(0,a.jsx)(I.Lock,{className:"w-6 h-6 text-red-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-black text-lg tracking-tight",children:"Seguridad"}),(0,a.jsx)("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:"Actualizar contraseña"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[!t&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-muted uppercase",children:"Contraseña Actual"}),(0,a.jsx)("input",{type:"password",value:o,onChange:e=>m(e.target.value),placeholder:"••••••••",className:"w-full p-4 bg-background border border-surface-border rounded-xl font-bold outline-none focus:ring-1 ring-red-500 transition-all"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-muted uppercase",children:"Nueva Contraseña"}),(0,a.jsx)("input",{type:"password",value:x,onChange:e=>p(e.target.value),placeholder:"••••••••",className:"w-full p-4 bg-background border border-surface-border rounded-xl font-bold outline-none focus:ring-1 ring-red-500 transition-all"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-bold text-muted uppercase",children:"Confirmar Nueva Contraseña"}),(0,a.jsx)("input",{type:"password",value:u,onChange:e=>h(e.target.value),placeholder:"••••••••",className:"w-full p-4 bg-background border border-surface-border rounded-xl font-bold outline-none focus:ring-1 ring-red-500 transition-all"})]}),(0,a.jsxs)("button",{onClick:()=>{if(x!==u)return alert("Las contraseñas no coinciden");l(o,x,u)},className:"w-full py-4 bg-surface-border text-foreground hover:bg-red-500 hover:text-white rounded-xl font-bold hover:shadow-xl hover:shadow-red-500/20 hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:[(0,a.jsx)(U.ShieldCheck,{className:"w-5 h-5"})," Actualizar Seguridad"]}),(0,a.jsx)("div",{className:"p-4 bg-primary/5 rounded-xl border border-primary/10",children:(0,a.jsx)("p",{className:"text-[10px] text-primary font-medium leading-relaxed text-center",children:"Usa una contraseña segura. No la compartas con nadie. El equipo de TeleGate nunca te pedirá tu contraseña."})})]})]})})})]})}let V=(0,d.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function O({pendingPayments:e,onValidatePayment:s}){return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"premium-card p-8 border-amber-500/20 bg-amber-500/5",children:[(0,a.jsxs)("h2",{className:"text-xl font-black uppercase tracking-tight text-amber-500 flex items-center gap-2",children:[(0,a.jsx)(b.CreditCard,{className:"w-6 h-6"})," Validación de Pagos Crypto"]}),(0,a.jsx)("p",{className:"text-muted font-bold mt-2",children:"Revisa y aprueba manualmente los pagos reportados por hash."})]}),(0,a.jsx)("div",{className:"premium-card overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-surface border-b border-surface-border text-left",children:[(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider",children:"ID"}),(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider",children:"Usuario"}),(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider",children:"Monto"}),(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider",children:"Hash / TXID"}),(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider",children:"Fecha"}),(0,a.jsx)("th",{className:"p-4 font-black text-muted uppercase text-[10px] tracking-wider",children:"Acción"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-surface-border",children:e.length>0?e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-background/50 transition-colors",children:[(0,a.jsxs)("td",{className:"p-4 font-mono text-xs text-muted",children:["#",e.id.slice(0,6)]}),(0,a.jsx)("td",{className:"p-4 font-bold",children:e.user_email}),(0,a.jsxs)("td",{className:"p-4 font-black text-emerald-500",children:["$",e.amount]}),(0,a.jsx)("td",{className:"p-4 font-mono text-xs text-primary truncate max-w-[150px]",title:e.transaction_hash,children:e.transaction_hash}),(0,a.jsx)("td",{className:"p-4 text-xs font-bold text-muted",children:new Date(e.created_at).toLocaleDateString()}),(0,a.jsxs)("td",{className:"p-4 flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>s(e.id,!0),className:"p-2 bg-emerald-500/10 text-emerald-500 rounded-lg hover:bg-emerald-500/20 transition-colors",title:"Aprobar",children:(0,a.jsx)(P.CheckCircle2,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>s(e.id,!1),className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors",title:"Rechazar",children:(0,a.jsx)(V,{className:"w-5 h-5"})})]})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"p-20 text-center text-muted font-bold opacity-50",children:"No hay pagos pendientes de validación."})})})]})})})]})}let q=(0,d.default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),B=(0,d.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),H=(0,d.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);function W({user:e,summary:s,configs:t,copyToClipboard:l}){let i=`${window.location.origin}/register?ref=${e?.referral_code}`;t.find(e=>"affiliate_level_1_fee"===e.key)?.value;let n=t.find(e=>"tier_gold_min"===e.key)?.value||6,d=t.find(e=>"tier_diamond_min"===e.key)?.value||21,c=t.find(e=>"affiliate_level_1_fee_gold"===e.key)?.value||.15,o=t.find(e=>"affiliate_level_1_fee_diamond"===e.key)?.value||.2,x=s?.affiliate_tier||"BRONCE",p=s?.referral_count||0,u="DIAMANTE"===x?null:"ORO"===x?"DIAMANTE":"ORO",h="BRONCE"===x?n:"ORO"===x?d:null,b=h?Math.min(p/h*100,100):100,f="ORO"===u?c:"DIAMANTE"===u?o:0;return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[(0,a.jsx)("div",{className:"lg:col-span-1 space-y-6",children:(0,a.jsx)("div",{className:"premium-card p-1 bg-gradient-to-br from-amber-500 to-orange-600 rounded-3xl",children:(0,a.jsxs)("div",{className:"bg-surface rounded-[22px] p-8 h-full relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-10 opacity-10",children:(0,a.jsx)(r.Zap,{className:"w-40 h-40 text-amber-500"})}),(0,a.jsxs)("div",{className:"relative z-10 space-y-6",children:[(0,a.jsx)("div",{className:"p-3 bg-white/10 w-fit rounded-xl backdrop-blur-sm text-white",children:(0,a.jsx)(r.Zap,{className:"w-8 h-8"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl font-black text-white tracking-tight",children:"Programa de Socios"}),(0,a.jsx)("p",{className:"text-white/80 font-medium text-sm mt-2",children:"Gana comisiones vitalicias invitando a otros creadores a usar TeleGate."})]}),(0,a.jsxs)("div",{className:"p-4 bg-black/20 rounded-xl backdrop-blur-sm border border-white/10 space-y-2",children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase tracking-widest text-white/60",children:"Tu link de referido"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 font-mono font-bold text-white cursor-pointer group",onClick:()=>l(i),children:[(0,a.jsx)("span",{className:"truncate",children:i}),(0,a.jsx)(m,{className:"w-4 h-4 opacity-50 group-hover:opacity-100 transition-opacity"})]})]})]})]})})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"p-6 bg-surface border border-surface-border rounded-2xl",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-muted uppercase tracking-widest mb-1",children:"Total Ganado"}),(0,a.jsxs)("h3",{className:"text-2xl font-black text-amber-500",children:["$",(s?.affiliate_balance||0).toFixed(2)]})]}),(0,a.jsxs)("div",{className:"p-6 bg-surface border border-surface-border rounded-2xl",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-muted uppercase tracking-widest mb-1",children:"Referidos Activos"}),(0,a.jsx)("h3",{className:"text-2xl font-black text-foreground",children:"0"})," "]}),(0,a.jsxs)("div",{className:"p-6 bg-surface border border-surface-border rounded-2xl",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-muted uppercase tracking-widest mb-1",children:"Nivel Actual"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(q,{className:"w-5 h-5 text-amber-500"}),(0,a.jsx)("h3",{className:"text-xl font-black text-foreground capitalize",children:x.toLowerCase()})]})]})]}),(0,a.jsxs)("div",{className:"premium-card p-8 border-surface-border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"font-bold uppercase tracking-widest text-primary flex items-center gap-2",children:[(0,a.jsx)(B,{className:"w-5 h-5"})," Tu Progreso"]}),u&&(0,a.jsxs)("span",{className:"text-xs font-bold text-muted",children:["Siguiente Nivel: ",u," (",(100*f).toFixed(0),"% Comisión)"]})]}),(0,a.jsx)("div",{className:"relative h-4 bg-surface-border rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-amber-500 to-orange-500",style:{width:`${b}%`}})}),(0,a.jsxs)("div",{className:"flex justify-between mt-2 text-[10px] font-bold text-muted uppercase tracking-widest",children:[(0,a.jsxs)("span",{children:[p," Referidos"]}),(0,a.jsxs)("span",{children:[h||p," Referidos"]})]}),(0,a.jsxs)("div",{className:"mt-8 p-6 bg-surface border border-surface-border rounded-xl flex items-start gap-4",children:[(0,a.jsx)("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:(0,a.jsx)(H,{className:"w-5 h-5 text-emerald-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-foreground",children:u?`Sube a ${u}`:"¡Nivel Máximo Alcanzado!"}),(0,a.jsx)("p",{className:"text-xs text-muted font-medium mt-1",children:u?`Invita a ${h} creadores activos para desbloquear el nivel ${u} y aumentar tus comisiones al ${(100*f).toFixed(0)}% mensual recurrente.`:"¡Felicidades! Has alcanzado el rango máximo de Diamante. Disfruta de tus beneficios exclusivos."})]})]})]})]})]})}var X=e.i(78894);function Z({isOpen:e,onClose:t,channelId:r,channelTitle:l,onSuccess:i}){let[n,d]=(0,s.useState)(1),[c,o]=(0,s.useState)(!1),[m,x]=(0,s.useState)(null);if(!e)return null;let h=async()=>{o(!0);try{await w.ownerApi.deleteChannel(r),i(),t()}catch(e){if(e.message.includes("HAS_ACTIVE_SUBS"))try{let e=await w.ownerApi.getDeleteChannelCost(r);x(e),d(3)}catch(e){alert("Error al calcular costos de cancelación."),t()}else alert(e.message),t()}finally{o(!1)}},b=async()=>{o(!0);try{await w.ownerApi.deleteChannel(r,!0),i(),t()}catch(e){alert(e.message)}finally{o(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-background/90 backdrop-blur-md animate-in fade-in duration-300",children:(0,a.jsxs)("div",{className:"w-full max-w-md premium-card p-8 space-y-6 animate-in zoom-in-95 shadow-2xl relative border-red-500/20",children:[(0,a.jsx)("button",{onClick:t,className:"absolute top-4 right-4 p-2 text-muted hover:text-foreground rounded-full hover:bg-surface-border transition-colors",children:(0,a.jsx)(u.X,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-red-500/10 text-red-500 flex items-center justify-center mx-auto mb-4 animate-pulse",children:(0,a.jsx)(v.Trash2,{className:"w-8 h-8"})}),(0,a.jsx)("h2",{className:"text-2xl font-black tracking-tight text-red-500",children:"Eliminar Canal"}),(0,a.jsxs)("p",{className:"text-muted font-medium",children:["Estás a punto de eliminar ",(0,a.jsx)("b",{children:l})]})]}),1===n&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"p-4 bg-red-500/5 border border-red-500/10 rounded-xl space-y-2 text-center",children:(0,a.jsx)("p",{className:"text-sm text-red-500/80 font-bold leading-relaxed",children:"Esta acción es irreversible. Se perderán todos los datos, configuraciones y enlaces de afiliados."})}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:t,className:"flex-1 py-3 text-muted font-bold hover:bg-surface rounded-xl transition-colors",children:"Cancelar"}),(0,a.jsx)("button",{onClick:h,disabled:c,className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-colors flex items-center justify-center gap-2",children:c?(0,a.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}):"Sí, eliminar"})]})]}),3===n&&m&&(0,a.jsxs)("div",{className:"space-y-6 animate-in slide-in-from-right-4",children:[(0,a.jsxs)("div",{className:"p-5 bg-amber-500/5 border border-amber-500/20 rounded-xl space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(X.AlertTriangle,{className:"w-6 h-6 text-amber-500 shrink-0"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h3",{className:"font-bold text-amber-500",children:"Suscriptores Activos Detectados"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground leading-relaxed",children:"Para eliminar este canal, debes cancelar las suscripciones activas. Esto conlleva una penalización por incumplimiento de contrato."})]})]}),(0,a.jsxs)("div",{className:"space-y-2 py-2 border-t border-amber-500/10 pt-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted",children:"Suscriptores afectados:"}),(0,a.jsx)("span",{className:"font-bold",children:m.active_subscribers})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted",children:"Reembolso a usuarios:"}),(0,a.jsxs)("span",{className:"font-bold",children:["$",m.refund_amount]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-red-500",children:[(0,a.jsx)("span",{children:"Penalización (20%):"}),(0,a.jsxs)("span",{className:"font-bold",children:["+$",m.penalty_amount]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-black border-t border-dashed border-amber-500/20 pt-2 mt-2",children:[(0,a.jsx)("span",{children:"Total a Pagar:"}),(0,a.jsxs)("span",{children:["$",m.total_cost]})]})]}),!m.can_afford&&(0,a.jsx)("div",{className:"p-3 bg-red-500/10 rounded-lg text-xs font-bold text-red-500 text-center",children:"Saldo insuficiente. Recarga tu cuenta o espera a que finalicen las suscripciones."})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("button",{onClick:t,className:"flex-1 py-3 text-muted font-bold hover:bg-surface rounded-xl transition-colors",children:"Cancelar"}),(0,a.jsx)("button",{onClick:b,disabled:c||!m.can_afford,className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?(0,a.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}):"Pagar y Eliminar"})]})]})]})})}var K=e.i(50627),Y=e.i(87316),J=e.i(7233),Q=e.i(35408);function ee(){let[e,t]=(0,s.useState)(null),[r,l]=(0,s.useState)([]),[i,n]=(0,s.useState)(!0),[d,c]=(0,s.useState)(new Date().getFullYear()),[m,x]=(0,s.useState)(!1),[u,h]=(0,s.useState)({description:"",amount:"",category:"Software",date:new Date().toISOString().split("T")[0]});(0,s.useEffect)(()=>{b()},[d]);let b=async()=>{try{n(!0);let[e,a]=await Promise.all([w.adminApi.getTaxSummary(d),w.adminApi.getExpenses(d)]);t(e),l(a)}catch(e){console.error("Error fetching tax data:",e)}finally{n(!1)}},g=async e=>{e.preventDefault();try{await w.adminApi.createExpense({...u,amount:parseFloat(u.amount)}),x(!1),h({description:"",amount:"",category:"Software",date:new Date().toISOString().split("T")[0]}),b()}catch(e){alert("Error al guardar gasto")}},j=async e=>{if(confirm("¿Eliminar este gasto?"))try{await w.adminApi.deleteExpense(e),b()}catch(e){alert("Error al eliminar")}};return i&&!e?(0,a.jsx)("div",{className:"h-[400px] flex items-center justify-center",children:(0,a.jsx)(p.Loader2,{className:"w-8 h-8 text-primary animate-spin"})}):(0,a.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("h2",{className:"text-2xl font-black tracking-tight flex items-center gap-2",children:[(0,a.jsx)(U.ShieldCheck,{className:"w-8 h-8 text-primary"})," Admin ",(0,a.jsx)("span",{className:"gradient-text",children:"Tax Hub"})]}),(0,a.jsx)("p",{className:"text-muted font-medium",children:"Gestión fiscal personal para el dueño de TeleGate"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("select",{value:d,onChange:e=>c(parseInt(e.target.value)),className:"bg-surface border border-surface-border rounded-xl px-4 py-2 font-bold outline-none focus:ring-2 ring-primary/50",children:[(0,a.jsx)("option",{value:2024,children:"Año Fiscal 2024"}),(0,a.jsx)("option",{value:2025,children:"Año Fiscal 2025"}),(0,a.jsx)("option",{value:2026,children:"Año Fiscal 2026"})]}),(0,a.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-xl font-bold shadow-lg shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all",children:[(0,a.jsx)(J.Plus,{className:"w-5 h-5"})," Nuevo Gasto"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"premium-card p-6 border-emerald-500/20 bg-emerald-500/5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-emerald-500/10 rounded-xl",children:(0,a.jsx)(o.TrendingUp,{className:"w-6 h-6 text-emerald-500"})}),(0,a.jsx)("span",{className:"text-xs font-bold text-emerald-500/60 uppercase tracking-widest",children:"Gross Revenue"})]}),(0,a.jsxs)("h3",{className:"text-3xl font-black",children:["$",e?.gross_revenue?.toLocaleString()||"0.00"]}),(0,a.jsx)("p",{className:"text-sm text-muted mt-1 font-medium",children:"Ingresos de plataforma"})]}),(0,a.jsxs)("div",{className:"premium-card p-6 border-red-500/20 bg-red-500/5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-red-500/10 rounded-xl",children:(0,a.jsx)(Q.TrendingDown,{className:"w-6 h-6 text-red-500"})}),(0,a.jsx)("span",{className:"text-xs font-bold text-red-500/60 uppercase tracking-widest",children:"Business Expenses"})]}),(0,a.jsxs)("h3",{className:"text-3xl font-black",children:["-$",e?.total_expenses?.toLocaleString()||"0.00"]}),(0,a.jsx)("p",{className:"text-sm text-muted mt-1 font-medium",children:"Deducibles registrados"})]}),(0,a.jsxs)("div",{className:"premium-card p-6 border-primary/20 bg-primary/5 ring-2 ring-primary/20 relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:(0,a.jsx)(U.ShieldCheck,{className:"w-24 h-24 text-primary"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"p-3 bg-primary/10 rounded-xl",children:(0,a.jsx)(f.Calculator,{className:"w-6 h-6 text-primary"})}),(0,a.jsx)("span",{className:"text-xs font-bold text-primary/60 uppercase tracking-widest",children:"Estimated Net Income"})]}),(0,a.jsxs)("h3",{className:"text-3xl font-black",children:["$",e?.net_income?.toLocaleString()||"0.00"]}),(0,a.jsx)("p",{className:"text-sm text-muted mt-1 font-medium",children:"Ganancia real antes de impuestos"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("h2",{className:"text-xl font-black flex items-center gap-2 text-primary",children:[(0,a.jsx)(K.Receipt,{className:"w-6 h-6"})," Historial de Gastos"]})}),(0,a.jsx)("div",{className:"premium-card overflow-hidden border-surface-border",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left",children:[(0,a.jsx)("thead",{className:"bg-surface/50 border-b border-surface-border",children:(0,a.jsxs)("tr",{className:"text-xs font-bold text-muted uppercase tracking-wider",children:[(0,a.jsx)("th",{className:"px-6 py-4",children:"Fecha"}),(0,a.jsx)("th",{className:"px-6 py-4",children:"Descripción"}),(0,a.jsx)("th",{className:"px-6 py-4",children:"Categoría"}),(0,a.jsx)("th",{className:"px-6 py-4 text-right",children:"Monto"}),(0,a.jsx)("th",{className:"px-6 py-4"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-surface-border",children:r.length>0?r.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-primary/5 transition-colors group",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-sm font-bold opacity-60",children:new Date(e.date).toLocaleDateString()}),(0,a.jsx)("td",{className:"px-6 py-4 font-bold",children:e.description}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsx)("span",{className:"px-3 py-1 bg-surface border border-surface-border rounded-full text-[10px] font-black uppercase text-primary",children:e.category})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-right font-black text-red-400",children:["-$",e.amount.toFixed(2)]}),(0,a.jsx)("td",{className:"px-6 py-4 text-right",children:(0,a.jsx)("button",{onClick:()=>j(e.id),className:"p-2 text-muted hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:(0,a.jsx)(v.Trash2,{className:"w-4 h-4"})})})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-muted font-bold italic",children:"No hay gastos registrados en este año."})})})]})})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-black flex items-center gap-2 text-primary",children:[(0,a.jsx)(Y.Calendar,{className:"w-6 h-6"})," US Compliance"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(ea,{title:"Form 5472 & 1120",date:"Abril 15, 2026",desc:"Reporte informativo anual para dueños extranjeros.",status:"pending"}),(0,a.jsx)(ea,{title:"Annual Report (WY/DE)",date:"Mayo 01, 2026",desc:"Renovación de la entidad con el estado.",status:"pending"}),(0,a.jsx)(ea,{title:"Registered Agent",date:"Anual",desc:"Pago anual al agente registrado en USA.",status:"completed"}),(0,a.jsxs)("div",{className:"p-4 bg-amber-500/10 border border-amber-500/20 rounded-2xl flex gap-3 text-amber-500 text-xs italic font-bold",children:[(0,a.jsx)(X.AlertTriangle,{className:"w-5 h-5 flex-shrink-0"}),(0,a.jsx)("span",{children:"No brindamos asesoría legal ni contable. Consulta con tu CPA."})]})]})]})]}),m&&(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-background/80 backdrop-blur-md animate-in fade-in duration-300",children:(0,a.jsxs)("div",{className:"premium-card w-full max-w-md p-8 shadow-2xl animate-in zoom-in-95",children:[(0,a.jsx)("h2",{className:"text-2xl font-black mb-6",children:"Registrar Nuevo Gasto"}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-black text-muted uppercase tracking-widest",children:"Descripción"}),(0,a.jsx)("input",{type:"text",required:!0,value:u.description,onChange:e=>h({...u,description:e.target.value}),className:"w-full bg-surface border border-surface-border rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 font-bold",placeholder:"Ej: Hosting Vercel"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-black text-muted uppercase tracking-widest",children:"Monto (USD)"}),(0,a.jsx)("input",{type:"number",step:"0.01",required:!0,value:u.amount,onChange:e=>h({...u,amount:e.target.value}),className:"w-full bg-surface border border-surface-border rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 font-bold",placeholder:"0.00"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-black text-muted uppercase tracking-widest",children:"Fecha"}),(0,a.jsx)("input",{type:"date",required:!0,value:u.date,onChange:e=>h({...u,date:e.target.value}),className:"w-full bg-surface border border-surface-border rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 font-bold text-foreground"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-xs font-black text-muted uppercase tracking-widest",children:"Categoría"}),(0,a.jsxs)("select",{value:u.category,onChange:e=>h({...u,category:e.target.value}),className:"w-full bg-surface border border-surface-border rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 font-black",children:[(0,a.jsx)("option",{children:"Software"}),(0,a.jsx)("option",{children:"Legal/Professional"}),(0,a.jsx)("option",{children:"Marketing/Ads"}),(0,a.jsx)("option",{children:"Withdrawal Fees"}),(0,a.jsx)("option",{children:"Other"})]})]}),(0,a.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:()=>x(!1),className:"flex-1 py-3 font-bold text-muted hover:text-foreground transition-all",children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",className:"flex-1 bg-primary text-primary-foreground py-3 rounded-xl font-black shadow-lg shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all",children:"Guardar Gasto"})]})]})]})})]})}function ea({title:e,date:s,desc:t,status:r}){return(0,a.jsxs)("div",{className:`p-5 premium-card border-surface-border ${"completed"===r?"opacity-60 grayscale":"ring-1 ring-primary/10"}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-[10px] font-black uppercase text-primary tracking-widest",children:s}),"completed"===r?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-[10px] font-black text-emerald-500 uppercase px-2 py-0.5 bg-emerald-500/10 rounded-full border border-emerald-500/20",children:[(0,a.jsx)(P.CheckCircle2,{className:"w-3 h-3"})," Hecho"]}):(0,a.jsx)("span",{className:"text-[10px] font-black text-amber-500 uppercase px-2 py-0.5 bg-amber-500/10 rounded-full border border-amber-500/20",children:"Pendiente"})]}),(0,a.jsx)("h4",{className:"font-bold text-base leading-tight",children:e}),(0,a.jsx)("p",{className:"text-xs text-muted mt-1 font-medium",children:t})]})}let es=(0,d.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),et=(0,d.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),er=(0,d.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);function el({adminUsers:e,configs:t,handleConfigUpdate:d,handleDeleteUser:o,adminWithdrawals:m,handleProcessWithdrawal:h,adminTickets:b,handleOpenTicket:f,setActiveTab:g,mounted:j}){let[N,y]=(0,s.useState)({}),[k,C]=(0,s.useState)(null),[_,S]=(0,s.useState)(null),[A,P]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e={};t.forEach(a=>{e[a.key]=a.value}),y(e)},[t]);let E=(e,a)=>{let s=parseFloat(a);isNaN(s)||y(a=>({...a,[e]:s}))},T=async e=>{C(e);try{await d(e,N[e])}finally{C(null)}},M=async e=>{P(!0);try{let a=await w.adminApi.getUserLegalInfo(e);S(a)}catch(e){alert("Error al cargar información legal")}finally{P(!1)}};return(0,a.jsxs)("div",{className:"space-y-10 animate-fade-in",children:[(0,a.jsxs)("header",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold tracking-tight text-primary flex items-center gap-2",children:[(0,a.jsx)(x,{className:"w-8 h-8"})," Configuración Maestro del Sistema"]}),(0,a.jsx)("p",{className:"text-muted font-medium",children:"Controla las comisiones, umbrales y usuarios de todo el SaaS."})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[(0,a.jsx)(i.Users,{className:"w-6 h-6"})," Gestión de Propietarios (Owners)"]}),(0,a.jsx)("div",{className:"premium-card overflow-hidden",children:(0,a.jsxs)("table",{className:"w-full text-left",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-background/50 text-[10px] font-black uppercase tracking-widest text-muted border-b border-surface-border",children:[(0,a.jsx)("th",{className:"p-5",children:"Usuario / Email"}),(0,a.jsx)("th",{className:"p-5",children:"ID"}),(0,a.jsx)("th",{className:"p-5",children:"Firma Legal"}),(0,a.jsx)("th",{className:"p-5",children:"Fecha Registro"}),(0,a.jsx)("th",{className:"p-5",children:"Acciones"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-surface-border",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-background/30 transition-colors",children:[(0,a.jsxs)("td",{className:"p-5",children:[(0,a.jsx)("p",{className:"font-bold text-sm",children:e.full_name||"Sin Nombre"}),(0,a.jsx)("p",{className:"text-[10px] text-muted",children:e.email})]}),(0,a.jsx)("td",{className:"p-5",children:(0,a.jsxs)("span",{className:"px-2 py-0.5 bg-surface-border text-muted text-[10px] font-black rounded",children:["#",e.id]})}),(0,a.jsx)("td",{className:"p-5",children:(0,a.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-[10px] font-bold tracking-tighter border ${"verified"===e.legal_verification_status?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"pending"===e.legal_verification_status?"bg-amber-500/10 text-amber-500 border-amber-500/20":"bg-red-500/10 text-red-500 border-red-500/20"}`,children:["verified"===e.legal_verification_status?(0,a.jsx)(U.ShieldCheck,{className:"w-3 h-3"}):(0,a.jsx)(X.AlertTriangle,{className:"w-3 h-3"}),(e.legal_verification_status||"PENDING").toUpperCase()]})}),(0,a.jsx)("td",{className:"p-5",children:(0,a.jsx)("p",{className:"text-xs font-medium text-muted",children:j?new Date(e.created_at).toLocaleDateString():"..."})}),(0,a.jsx)("td",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>M(e.id),className:"p-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-all",title:"Ver Documentos Legales",children:A?(0,a.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(es,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>{confirm("¿Estás seguro de eliminar este propietario? Esta acción es irreversible.")&&o(e.id)},className:"p-2 bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-all",title:"Eliminar Usuario",children:(0,a.jsx)(v.Trash2,{className:"w-4 h-4"})})]})})]},e.id))})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"premium-card p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-primary font-bold",children:[(0,a.jsx)(n.LayoutGrid,{className:"w-5 h-5"})," Comisión Plataforma"]}),(0,a.jsx)("p",{className:"text-xs text-muted",children:"El porcentaje total que se retiene de cada pago (ej: 0.10 para 10%)."}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"number",step:"0.01",value:N.platform_fee??.1,onChange:e=>E("platform_fee",e.target.value),className:"flex-1 p-3 bg-background rounded-xl border border-surface-border text-lg font-bold min-w-0"}),(0,a.jsx)("button",{onClick:()=>T("platform_fee"),disabled:"platform_fee"===k,className:"px-6 bg-primary text-primary-foreground rounded-xl font-black uppercase tracking-tighter text-xs hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 whitespace-nowrap min-w-[100px] flex items-center justify-center gap-2",children:"platform_fee"===k?(0,a.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.ShieldCheck,{className:"w-4 h-4"})," Guardar"]})})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2 lg:col-span-3 premium-card p-8 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("h3",{className:"font-bold text-lg text-primary flex items-center gap-2",children:[(0,a.jsx)(r.Zap,{className:"w-6 h-6"})," Comisiones Multinivel (10 Profundidades)"]}),(0,a.jsx)("p",{className:"text-sm text-muted",children:"Define el % que gana cada nivel en la cadena de referidos."})]}),(0,a.jsx)("div",{className:"px-4 py-2 bg-emerald-500/10 text-emerald-500 rounded-lg text-xs font-black",children:"ACTIVO: MLM DEPTH 10"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[{lv:1,n:"Directo"},{lv:2,n:"Gen II"},{lv:3,n:"Gen III"},{lv:4,n:"C. Interno"},{lv:5,n:"Liderazgo"},{lv:6,n:"Elite"},{lv:7,n:"Embajador"},{lv:8,n:"Maestro"},{lv:9,n:"Leyenda"},{lv:10,n:"Infinitum"}].map(e=>(0,a.jsxs)("div",{className:"space-y-2 p-4 bg-background rounded-xl border border-surface-border",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-muted",children:e.n}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"number",step:"0.001",value:N[`affiliate_level_${e.lv}_fee`]??(1===e.lv?.03:.001),onChange:a=>E(`affiliate_level_${e.lv}_fee`,a.target.value),className:"flex-1 p-2 bg-surface-border/30 rounded-lg text-sm font-bold focus:ring-1 ring-primary outline-none"}),(0,a.jsx)("button",{onClick:()=>T(`affiliate_level_${e.lv}_fee`),disabled:k===`affiliate_level_${e.lv}_fee`,className:"p-2 bg-primary/10 text-primary rounded-lg hover:bg-primary/20 transition-all disabled:opacity-50",children:k===`affiliate_level_${e.lv}_fee`?(0,a.jsx)(p.Loader2,{className:"w-3 h-3 animate-spin"}):(0,a.jsx)(U.ShieldCheck,{className:"w-3 h-3"})})]})]},e.lv))})]}),[{key:"tier_gold_min",label:"Referidos para Oro",desc:"Requisito para insignia Oro.",step:1},{key:"tier_diamond_min",label:"Referidos para Diamante",desc:"Requisito para insignia Diamante.",step:1},{key:"affiliate_level_1_fee_gold",label:"Comisión Nivel 1 (Oro)",desc:"Porcentaje para usuarios Oro (Ej: 0.05).",step:.01},{key:"affiliate_level_1_fee_diamond",label:"Comisión Nivel 1 (Diamante)",desc:"Porcentaje para usuarios Diamante (Ej: 0.08).",step:.01}].map(e=>(0,a.jsxs)("div",{className:"premium-card p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-primary font-bold",children:[(0,a.jsx)(D,{className:"w-5 h-5"})," ",e.label]}),(0,a.jsx)("p",{className:"text-xs text-muted",children:e.desc}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"number",step:e.step,value:N[e.key]??0,onChange:a=>E(e.key,a.target.value),className:"flex-1 p-3 bg-background rounded-xl border border-surface-border text-lg font-bold min-w-0"}),(0,a.jsx)("button",{onClick:()=>T(e.key),disabled:k===e.key,className:"px-6 bg-primary text-primary-foreground rounded-xl font-black uppercase tracking-tighter text-xs hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-50 whitespace-nowrap min-w-[100px] flex items-center justify-center gap-2",children:k===e.key?(0,a.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.ShieldCheck,{className:"w-4 h-4"})," Guardar"]})})]})]},e.key))]}),(0,a.jsxs)("div",{className:"p-6 bg-amber-500/10 border border-amber-500/20 rounded-2xl",children:[(0,a.jsxs)("p",{className:"text-sm font-bold text-amber-500 flex items-center gap-2",children:[(0,a.jsx)(U.ShieldCheck,{className:"w-5 h-5"})," Nota de Seguridad"]}),(0,a.jsx)("p",{className:"text-xs text-amber-500/80 mt-1",children:"Los cambios en los porcentajes se aplicarán a todas las transacciones nuevas a partir de este momento. El historial de pagos anteriores no se modificará."})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[(0,a.jsx)(l.Wallet,{className:"w-6 h-6"})," Gestión de Retiros Pendientes"]}),m.filter(e=>"pending"===e.status).length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.filter(e=>"pending"===e.status).map(e=>(0,a.jsxs)("div",{className:"premium-card p-6 space-y-4 border-amber-500/20 bg-amber-500/5",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-2xl font-black text-primary",children:["$",e.amount.toFixed(2)]}),(0,a.jsxs)("p",{className:"text-xs text-muted font-bold",children:["Solicitado por ID: ",e.owner_id]}),(0,a.jsx)("p",{className:"text-[10px] text-muted",children:j?new Date(e.created_at).toLocaleString():"..."})]}),(0,a.jsx)("span",{className:"px-2 py-1 bg-amber-500 text-white rounded text-[10px] font-bold uppercase",children:"Pendiente"})]}),(0,a.jsxs)("div",{className:"p-3 bg-background rounded-lg border border-surface-border",children:[(0,a.jsx)("p",{className:"text-[10px] font-black uppercase text-muted",children:"Método & Detalles"}),(0,a.jsx)("p",{className:"text-xs font-bold",children:e.method}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1",children:e.details})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>h(e.id,"completed"),className:"flex-1 py-2 bg-emerald-500 text-white rounded-lg font-bold text-sm hover:bg-emerald-600 transition-colors",children:"Aprobar"}),(0,a.jsx)("button",{onClick:()=>h(e.id,"rejected"),className:"flex-1 py-2 bg-red-500 text-white rounded-lg font-bold text-sm hover:bg-red-600 transition-colors",children:"Rechazar"})]})]},e.id))}):(0,a.jsx)("div",{className:"p-10 text-center premium-card border-emerald-500/20 bg-emerald-500/5",children:(0,a.jsx)("p",{className:"text-sm font-bold text-emerald-500",children:"No hay retiros pendientes por procesar. ✨"})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-2 text-primary",children:[(0,a.jsx)(c,{className:"w-6 h-6"})," Cola de Tickets de Soporte"]}),(0,a.jsx)("div",{className:"premium-card divide-y divide-surface-border overflow-hidden",children:b.length>0?b.map(e=>(0,a.jsxs)("div",{onClick:()=>{g("support"),f(e.id,!0)},className:"p-4 flex items-center justify-between hover:bg-background/50 cursor-pointer transition-all",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold text-sm",children:e.subject}),(0,a.jsxs)("p",{className:"text-[10px] text-muted font-bold uppercase tracking-widest",children:["Usuario ID: ",e.user_id," · ",j?new Date(e.created_at).toLocaleDateString():"..."]})]}),(0,a.jsx)("span",{className:`text-[9px] font-black uppercase tracking-tighter px-2 py-0.5 rounded-full border ${"open"===e.status?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"pending"===e.status?"bg-amber-500/10 text-amber-500 border-amber-500/20":"bg-surface-border text-muted border-surface-border"}`,children:"open"===e.status?"Responder":"pending"===e.status?"En espera":"Cerrado"})]},e.id)):(0,a.jsx)("div",{className:"p-10 text-center text-xs text-muted font-bold",children:"No hay tickets hoy. Todo en orden."})})]}),_&&(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-background/80 backdrop-blur-md animate-in fade-in duration-300",children:(0,a.jsxs)("div",{className:"premium-card w-full max-w-2xl max-h-[90vh] overflow-y-auto p-8 shadow-2xl animate-in zoom-in-95 relative",children:[(0,a.jsx)("button",{onClick:()=>S(null),className:"absolute top-4 right-4 p-2 hover:bg-surface-border rounded-full transition-colors",children:(0,a.jsx)(u.X,{className:"w-6 h-6"})}),(0,a.jsxs)("header",{className:"mb-8",children:[(0,a.jsxs)("h3",{className:"text-2xl font-black flex items-center gap-2 text-primary",children:[(0,a.jsx)(et,{className:"w-8 h-8"})," Expediente Legal de Propietario"]}),(0,a.jsx)("p",{className:"text-muted font-medium",children:"Información corporativa y documentos cargados."})]}),_.has_legal?(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase text-muted tracking-widest",children:"Nombre Legal / Razón Social"}),(0,a.jsx)("p",{className:"font-bold text-lg",children:"natural"===_.person_type?_.full_legal_name:_.business_name})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase text-muted tracking-widest",children:"Identificación / NIT"}),(0,a.jsx)("p",{className:"font-bold text-lg",children:"natural"===_.person_type?`${_.id_type} ${_.id_number}`:_.nit})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase text-muted tracking-widest",children:"Contacto"}),(0,a.jsx)("p",{className:"font-bold",children:_.phone}),(0,a.jsxs)("p",{className:"text-sm text-muted",children:[_.address,", ",_.city]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase text-muted tracking-widest",children:"Información Bancaria"}),(0,a.jsx)("p",{className:"font-bold",children:_.bank_name}),(0,a.jsxs)("p",{className:"text-sm text-muted",children:[_.account_type?.toUpperCase()," #",_.account_number]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-black text-sm uppercase tracking-widest text-primary border-b border-surface-border pb-2",children:"Documentación Anexa"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[_.rut_url&&(0,a.jsxs)("a",{href:_.rut_url,target:"_blank",className:"flex items-center justify-between p-4 bg-background border border-surface-border rounded-xl hover:bg-surface-border transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(et,{className:"w-5 h-5 text-primary"}),(0,a.jsx)("span",{className:"text-sm font-bold",children:"Registro RUT"})]}),(0,a.jsx)(er,{className:"w-4 h-4 text-muted group-hover:text-primary transition-colors"})]}),_.bank_cert_url&&(0,a.jsxs)("a",{href:_.bank_cert_url,target:"_blank",className:"flex items-center justify-between p-4 bg-background border border-surface-border rounded-xl hover:bg-surface-border transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(U.ShieldCheck,{className:"w-5 h-5 text-emerald-500"}),(0,a.jsx)("span",{className:"text-sm font-bold",children:"Certificación Bancaria"})]}),(0,a.jsx)(er,{className:"w-4 h-4 text-muted group-hover:text-primary transition-colors"})]}),_.chamber_commerce_url&&(0,a.jsxs)("a",{href:_.chamber_commerce_url,target:"_blank",className:"flex items-center justify-between p-4 bg-background border border-surface-border rounded-xl hover:bg-surface-border transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(r.Zap,{className:"w-5 h-5 text-amber-500"}),(0,a.jsx)("span",{className:"text-sm font-bold",children:"Cámara de Comercio"})]}),(0,a.jsx)(er,{className:"w-4 h-4 text-muted group-hover:text-primary transition-colors"})]}),_.contract_pdf_url&&(0,a.jsxs)("a",{href:_.contract_pdf_url,target:"_blank",className:"flex items-center justify-between p-4 bg-primary/5 border border-primary/20 rounded-xl hover:bg-primary/10 transition-colors group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(U.ShieldCheck,{className:"w-5 h-5 text-primary"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-bold",children:"Contrato Firmado"}),(0,a.jsxs)("span",{className:"text-[10px] text-muted",children:["Firmado el ",new Date(_.signed_at).toLocaleDateString()]})]})]}),(0,a.jsx)(er,{className:"w-4 h-4 text-muted group-hover:text-primary transition-colors"})]})]})]})]}):(0,a.jsxs)("div",{className:"p-10 text-center bg-amber-500/10 border border-amber-500/20 rounded-2xl",children:[(0,a.jsx)(X.AlertTriangle,{className:"w-12 h-12 text-amber-500 mx-auto mb-4"}),(0,a.jsx)("p",{className:"font-bold text-amber-500",children:"Este usuario aún no ha completado su perfil legal."})]})]})})]})}let ei=(0,d.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function en({isOpen:e,onClose:t,channel:r}){let[l,i]=(0,s.useState)([]),[n,d]=(0,s.useState)(!1),[c,o]=(0,s.useState)(null),[m,x]=(0,s.useState)(null),[h,b]=(0,s.useState)(!1),[f,g]=(0,s.useState)({name:"",description:"",price:0,duration_days:30});(0,s.useEffect)(()=>{e&&r&&j()},[e,r]);let j=async()=>{if(r){d(!0);try{let e=await w.ownerApi.getPlans(r.id);i(e)}catch(e){x("Error al cargar los planes")}finally{d(!1)}}},N=async()=>{if(r){if(!f.name||f.price<=0||f.duration_days<=0)return void alert("Por favor completa todos los campos correctamente.");o("new");try{await w.ownerApi.createPlan(r.id,f),b(!1),g({name:"",description:"",price:0,duration_days:30}),await j()}catch(e){alert("Error al crear el plan")}finally{o(null)}}},y=async(e,a)=>{o(e);try{await w.ownerApi.updatePlan(e,a),await j()}catch(e){alert("Error al actualizar el plan")}finally{o(null)}},k=async e=>{if(confirm("¿Estás seguro de eliminar este plan?"))try{let a=await w.ownerApi.deletePlan(e);a?.status==="deactivated"&&alert("El plan tiene suscripciones activas, por lo que ha sido desactivado en lugar de eliminado."),await j()}catch(e){alert("Error al eliminar el plan")}};return e&&r?(0,a.jsx)("div",{className:"fixed inset-0 z-[110] flex items-center justify-center p-4 bg-background/95 backdrop-blur-xl animate-in fade-in duration-300",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl premium-card p-8 space-y-8 animate-in zoom-in-95 duration-300 border-primary/20 shadow-2xl overflow-y-auto max-h-[90vh]",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between border-b border-surface-border pb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-primary/10 rounded-2xl",children:(0,a.jsx)(S.DollarSign,{className:"w-6 h-6 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Gestionar Precios"}),(0,a.jsx)("p",{className:"text-xs text-muted font-bold uppercase tracking-widest",children:r.title})]})]}),(0,a.jsx)("button",{onClick:t,className:"p-2 hover:bg-surface-border rounded-xl transition-colors",children:(0,a.jsx)(u.X,{className:"w-6 h-6 text-muted"})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-sm font-black uppercase tracking-widest text-primary flex items-center gap-2",children:[(0,a.jsx)(P.CheckCircle2,{className:"w-4 h-4"})," Planes Configurados"]}),(0,a.jsxs)("button",{onClick:()=>b(!h),className:"px-4 py-2 bg-primary/10 text-primary rounded-xl text-xs font-black uppercase tracking-tighter hover:bg-primary/20 transition-all flex items-center gap-2",children:[h?(0,a.jsx)(u.X,{className:"w-4 h-4"}):(0,a.jsx)(J.Plus,{className:"w-4 h-4"}),h?"Cancelar":"Nuevo Plan"]})]}),h&&(0,a.jsx)("div",{className:"p-6 bg-surface border border-primary/30 rounded-2xl space-y-4 animate-in slide-in-from-top-4 duration-300",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-muted",children:"Nombre del Plan"}),(0,a.jsx)("input",{type:"text",placeholder:"Mensual, VIP, etc.",value:f.name,onChange:e=>g({...f,name:e.target.value}),className:"w-full p-3 bg-background border border-surface-border rounded-xl text-sm font-bold focus:ring-1 ring-primary outline-none"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-muted",children:"Precio (USD)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(S.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted"}),(0,a.jsx)("input",{type:"number",value:f.price,onChange:e=>g({...f,price:parseFloat(e.target.value)}),className:"w-full p-3 pl-9 bg-background border border-surface-border rounded-xl text-sm font-bold focus:ring-1 ring-primary outline-none"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-[10px] font-black uppercase tracking-widest text-muted",children:"Duración (Días)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Y.Calendar,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted"}),(0,a.jsx)("input",{type:"number",value:f.duration_days,onChange:e=>g({...f,duration_days:parseInt(e.target.value)}),className:"w-full p-3 pl-9 bg-background border border-surface-border rounded-xl text-sm font-bold focus:ring-1 ring-primary outline-none"})]})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)("button",{onClick:N,disabled:"new"===c,className:"w-full py-3 bg-primary text-primary-foreground rounded-xl font-bold text-sm hover:scale-[1.02] active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:"new"===c?(0,a.jsx)(p.Loader2,{className:"w-5 h-5 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.Plus,{className:"w-4 h-4"})," Crear Plan"]})})})]})}),n?(0,a.jsx)("div",{className:"py-20 text-center animate-pulse",children:"Cargando planes..."}):(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:0===l.length?(0,a.jsxs)("div",{className:"py-12 border-2 border-dashed border-surface-border rounded-3xl flex flex-col items-center justify-center text-muted gap-3",children:[(0,a.jsx)(ei,{className:"w-10 h-10 opacity-20"}),(0,a.jsx)("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No hay planes activos. Crea uno para empezar a vender."})]}):l.map(e=>(0,a.jsxs)("div",{className:`premium-card p-5 flex flex-col md:flex-row items-center justify-between gap-6 transition-all ${!e.is_active?"opacity-50 grayscale":""}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-6 flex-1 w-full",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-surface-border/50 flex items-center justify-center font-black text-primary text-lg border border-surface-border",children:e.duration_days>=365?"1Y":e.duration_days>=30?`${Math.round(e.duration_days/30)}M`:`${e.duration_days}D`}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"font-black text-lg uppercase tracking-tight",children:e.name}),!e.is_active&&(0,a.jsx)("span",{className:"px-2 py-0.5 bg-red-500/10 text-red-500 text-[8px] font-black rounded uppercase tracking-widest",children:"Inactivo"})]}),(0,a.jsxs)("p",{className:"text-xs text-muted font-bold",children:["$",e.price," USD / ",e.duration_days," días"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 shrink-0",children:[(0,a.jsx)("button",{onClick:()=>y(e.id,{is_active:!e.is_active}),className:`px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest border transition-all ${e.is_active?"bg-amber-500/10 text-amber-500 border-amber-500/20 hover:bg-amber-500/20":"bg-emerald-500/10 text-emerald-500 border-emerald-500/20 hover:bg-emerald-500/20"}`,children:e.is_active?"Pausar":"Activar"}),(0,a.jsx)("button",{onClick:()=>k(e.id),className:"p-2.5 bg-red-500/10 text-red-500 rounded-xl hover:bg-red-500/20 transition-all",children:(0,a.jsx)(v.Trash2,{className:"w-4 h-4"})})]})]},e.id))})]}),(0,a.jsxs)("div",{className:"p-5 bg-primary/5 border border-primary/10 rounded-2xl flex items-start gap-4",children:[(0,a.jsx)(ei,{className:"w-5 h-5 text-primary shrink-0 mt-0.5"}),(0,a.jsxs)("p",{className:"text-[10px] text-primary/80 font-bold leading-relaxed uppercase tracking-wide",children:[(0,a.jsx)("b",{children:"Nota de precios"}),": Puedes crear múltiples planes (Ej: Mensual, Trimestral, Anual). El bot mostrará automáticamente todas las opciones activas a tus clientes cuando intenten unirse al canal."]})]})]})}):null}function ed(){let e=(0,t.useRouter)(),[d,C]=(0,s.useState)([]),[_,S]=(0,s.useState)(null),[P,E]=(0,s.useState)([]),[T,D]=(0,s.useState)(!0),[z,L]=(0,s.useState)(!1),[I,G]=(0,s.useState)("overview"),[U,V]=(0,s.useState)(!1),[q,B]=(0,s.useState)(null),[H,X]=(0,s.useState)(!1),[K,Y]=(0,s.useState)(!1),[J,Q]=(0,s.useState)(null),[ea,es]=(0,s.useState)(null),[et,er]=(0,s.useState)(null),[ei,ed]=(0,s.useState)([]),[ec,eo]=(0,s.useState)(1),[em,ex]=(0,s.useState)(null),[ep,eu]=(0,s.useState)(null),[eh,eb]=(0,s.useState)([]),[ef,eg]=(0,s.useState)([]),[ej,eN]=(0,s.useState)([]),[ey,ev]=(0,s.useState)([]),[ew,ek]=(0,s.useState)([]),[eC,e_]=(0,s.useState)([]),eS="true"===new URLSearchParams(window.location.search).get("recovery");(0,s.useEffect)(()=>{L(!0),localStorage.getItem("token")?(eA(),eT()):e.push("/login"),eS&&G("settings")},[]);let eA=async(e=!1)=>{try{e||D(!0);let[a,s]=await Promise.all([w.ownerApi.getChannels(),w.ownerApi.getSummary()]);if(C(a),S(s),B(s),s?.is_admin)try{let e=await w.adminApi.getPendingPayments();E(e||[])}catch(e){console.error("Error fetching admin payments",e)}"wallet"===I&&eP(),"support"===I&&eE()}catch(e){console.error("Error fetching dashboard data:",e)}finally{e||D(!1)}},eP=async()=>{try{let e=await w.ownerApi.getWithdrawals();eb(e)}catch(e){console.error(e)}},eE=async()=>{try{let e=await w.ownerApi.getTickets();eg(e)}catch(e){console.error(e)}},eT=async()=>{try{let e=await w.publicApi.getConfig(),a=Object.entries(e).map(([e,a],s)=>({id:s,key:e,value:a}));ev(a)}catch(e){console.error("Error loading public config",e)}},eM=async()=>{try{let[e,a,s,t]=await Promise.all([w.adminApi.getUsers(),w.adminApi.getConfig(),w.adminApi.getWithdrawals(),w.adminApi.getTickets()]);eN(e),ev(a),ek(s),e_(t)}catch(e){console.error("Error loading admin data",e)}},eD=async e=>{try{let a=await w.ownerApi.getPromotions(Number(e));ed(a)}catch(e){console.error(e)}};(0,s.useEffect)(()=>{"wallet"===I&&eP(),"support"===I&&eE(),"admin"===I&&eM()},[I]);let e$=e=>{navigator.clipboard.writeText(e),alert("Copiado al portapapeles: "+e)},ez=async e=>{try{let a=await w.ownerApi.createChannel(e);ex(a),eo(2),eA(!0)}catch(e){alert(e.message)}},eR=async(e,a)=>{try{await w.ownerApi.updateProfile({full_name:e,avatar_url:a}),alert("Perfil actualizado correctamente"),eA(!0)}catch(e){alert(e.message)}},eL=async(e,a,s)=>{try{alert("Cambio de contraseña simulado (API pendiente)")}catch(e){alert(e.message)}},eI=async(e,a,s)=>{try{await w.ownerApi.requestWithdrawal({amount:e,method:a,details:s}),alert("Solicitud de retiro enviada"),eP(),eA(!0)}catch(e){alert(e.message)}},eG=async(e,a)=>{try{a?(await w.adminApi.verifyCryptoPayment(parseInt(e)),alert("Pago aprobado")):alert("Rechazo de pago no soporta API aún (simulado)");let s=await w.adminApi.getPendingPayments();E(s||[])}catch(e){alert(e.message)}},eU=async(e,a)=>{try{await w.adminApi.updateConfig(e,a);let s=await w.adminApi.getConfig();ev(s)}catch(e){alert(e.message)}},eF=async(e,a)=>{try{await w.adminApi.processWithdrawal(e,a);let s=await w.adminApi.getWithdrawals();ek(s),alert(`Retiro ${"completed"===a?"aprobado":"rechazado"}`)}catch(e){alert(e.message)}},eV=async e=>{try{await w.adminApi.deleteUser(e),eN(a=>a.filter(a=>a.id!==e)),alert("Usuario eliminado")}catch(e){alert(e.message)}},eO=async()=>{if(J)try{await w.ownerApi.updateBranding(Number(J.id),{welcome_message:document.getElementById("b_welcome").value,expiration_message:""}),alert("Branding actualizado"),Q(null),eA(!0)}catch(e){alert(e.message)}},eq=async(e,a)=>{try{await w.ownerApi.createPromotion(Number(e),a),alert("Promoción creada"),eD(e)}catch(e){alert(e.message)}},eB=e=>{let a=d.find(a=>a.id===e);a&&eu(a)},eH=async e=>{if(confirm("¿Eliminar promoción?"))try{await w.ownerApi.deletePromotion(Number(e)),ea&&eD(ea.id)}catch(e){alert(e.message)}};return z?T?(0,a.jsxs)("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[(0,a.jsx)(p.Loader2,{className:"w-10 h-10 text-primary animate-spin"}),(0,a.jsx)("p",{className:"text-muted font-bold animate-pulse",children:"Cargando TeleGate..."})]}):(0,a.jsxs)("div",{className:"flex min-h-screen bg-background","aria-label":"Panel de Administración del Creador",children:[U&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[60] md:hidden",onClick:()=>V(!1)}),(0,a.jsxs)("aside",{className:`fixed inset-y-0 left-0 w-64 flex flex-col border-r border-surface-border bg-surface p-6 space-y-8 z-[70] transition-transform duration-300 md:relative md:translate-x-0 ${U?"translate-x-0":"-translate-x-full"}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center text-primary-foreground font-black",children:"T"}),(0,a.jsx)("span",{className:"font-bold text-xl tracking-tight",children:"TeleGate"})]}),(0,a.jsx)("button",{className:"md:hidden text-muted hover:text-white",onClick:()=>V(!1),children:(0,a.jsx)(u.X,{className:"w-6 h-6"})})]}),(0,a.jsxs)("nav",{className:"flex-1 space-y-2 overflow-y-auto",children:[[{id:"overview",label:"Vista General",icon:n.LayoutGrid},{id:"channels",label:"Mis Canales",icon:i.Users},{id:"affiliates",label:"Afiliados",icon:r.Zap},{id:"support",label:"Soporte",icon:c},{id:"wallet",label:"Billetera",icon:l.Wallet},{id:"settings",label:"Configuración",icon:h.Settings},..._?.is_admin?[{id:"admin",label:"Admin Sistema",icon:x},{id:"admin_payments",label:"Admin Pagos",icon:b.CreditCard},{id:"admin_tax",label:"Tax Hub",icon:f.Calculator}]:[]].map(e=>(0,a.jsxs)("button",{onClick:()=>{G(e.id),X(e.id.startsWith("admin")),V(!1)},className:`w-full flex items-center gap-3 p-3 rounded-xl text-sm font-bold transition-all ${I===e.id?"bg-primary text-primary-foreground shadow-lg shadow-primary/20":"text-muted hover:bg-surface-border"}`,children:[(0,a.jsx)(e.icon,{className:"w-5 h-5"}),e.label]},e.id)),(0,a.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),e.push("/login")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl font-semibold transition-all text-red-500 hover:bg-red-500/10",children:[(0,a.jsx)(g,{className:"w-5 h-5"}),"Cerrar Sesión"]})]}),(0,a.jsxs)("div",{className:"premium-card p-4 bg-primary/5 border-primary/10 text-xs font-bold text-primary flex items-center justify-center gap-2",children:[(0,a.jsx)(r.Zap,{className:"w-3.5 h-3.5"})," Plan Pro Premium"]})]}),(0,a.jsxs)("main",{className:"flex-1 p-6 md:p-10 space-y-10 max-w-7xl mx-auto overflow-y-auto",children:[(0,a.jsxs)("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between md:block",children:[(0,a.jsxs)("div",{className:"md:hidden flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>V(!0),className:"p-2 -ml-2 text-muted hover:text-white",children:(0,a.jsx)(j.Menu,{className:"w-7 h-7"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-7 h-7 bg-primary rounded-lg flex items-center justify-center text-primary-foreground font-black text-xs",children:"T"}),(0,a.jsx)("span",{className:"font-bold text-lg tracking-tight",children:"TeleGate"})]})]}),(0,a.jsxs)("div",{className:"hidden md:block",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold tracking-tight",children:["Panel de ",(0,a.jsx)("span",{className:"gradient-text",children:"Control"})]}),(0,a.jsx)("p",{className:"text-muted mt-1 font-medium",children:"Gestiona tus comunidades y ganancias hoy."})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between md:justify-end gap-3",children:[(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsxs)("h1",{className:"text-2xl font-bold tracking-tight",children:["Panel de ",(0,a.jsx)("span",{className:"gradient-text",children:"Control"})]})}),(0,a.jsxs)("button",{onClick:()=>{Y(!0),eo(1),ex(null)},className:"flex items-center gap-2 px-4 md:px-5 py-2 md:py-2.5 bg-primary text-primary-foreground rounded-xl font-bold shadow-lg shadow-primary/20 hover:scale-[1.02] active:scale-[0.98] transition-all text-sm md:text-base",children:[(0,a.jsx)(N,{className:"w-5 h-5"})," ",(0,a.jsx)("span",{className:"hidden sm:inline",children:"Nuevo Canal"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Nuevo"})]})]})]}),"overview"===I&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k,{summary:_,onTabChange:e=>{G(e),X(e.startsWith("admin"))}}),(0,a.jsxs)("div",{className:"premium-card p-8 border-surface-border",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"font-bold text-lg flex items-center gap-2",children:[(0,a.jsx)(o.TrendingUp,{className:"w-5 h-5 text-primary"})," Rendimiento Mensual"]}),(0,a.jsxs)("select",{className:"bg-surface border border-surface-border rounded-lg text-xs font-bold p-2 outline-none",children:[(0,a.jsx)("option",{children:"Últimos 30 días"}),(0,a.jsx)("option",{children:"Este Año"})]})]}),(0,a.jsx)("div",{className:"h-[300px] w-full bg-surface/30 rounded-xl flex items-center justify-center border border-dashed border-surface-border",children:(0,a.jsx)("p",{className:"text-muted font-bold text-sm",children:"Gráfico de ingresos en tiempo real (Próximamente)"})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"font-bold text-lg",children:"Canales Recientes"}),(0,a.jsx)(A,{channels:d.slice(0,3),isLoading:!1,onEditBranding:Q,onManagePromos:e=>{es(e),eD(e.id)},onManagePlans:er,onLinkChannel:e=>{ex(e),eo(2),Y(!0)},onDeleteChannel:eB,onViewSubscribers:a=>e.push(`/dashboard/channel/${a}`)}),d.length>3&&(0,a.jsxs)("button",{onClick:()=>G("channels"),className:"w-full py-3 text-sm font-bold text-muted hover:text-primary transition-colors",children:["Ver todos los canales (",d.length,")"]})]})]}),"channels"===I&&(0,a.jsx)(A,{channels:d,isLoading:T,onEditBranding:Q,onManagePromos:e=>{es(e),eD(e.id)},onManagePlans:er,onLinkChannel:e=>{ex(e),eo(2),Y(!0)},onDeleteChannel:eB,onViewSubscribers:a=>e.push(`/dashboard/channel/${a}`)}),"wallet"===I&&(0,a.jsx)($,{summary:_,withdrawals:eh,withdrawalOptions:[{id:"stripe",name:"Stripe / Tarjeta",description:"Transferencia directa a cuenta vinculada.",active:!0},{id:"wompi",name:"Wompi / Nequi (Colombia)",description:"Transferencia en tiempo real a Nequi o Bancos.",active:!1},{id:"crypto",name:"USDT / Crypto",description:"Pago en Stablecoins (Red TRC20).",active:!1}],onRequestWithdrawal:eI,statusLabels:{pending:"Pendiente",approved:"Aprobado",rejected:"Rechazado",paid:"Pagado"},statusColors:{pending:"bg-amber-500/10 text-amber-500 border-amber-500/20",approved:"bg-emerald-500/10 text-emerald-500 border-emerald-500/20",rejected:"bg-red-500/10 text-red-500 border-red-500/20",paid:"bg-blue-500/10 text-blue-500 border-blue-500/20"}}),"support"===I&&(0,a.jsx)(R,{tickets:ef,isAdmin:_?.is_admin,onAdminViewTicket:e=>alert(`Ver Ticket ${e} (Pendiente impl)`)}),"settings"===I&&(0,a.jsx)(F,{user:q,isRecovery:eS,onUpdateProfile:eR,onUpdatePassword:eL}),"affiliates"===I&&(0,a.jsx)(W,{user:q,summary:_,configs:ey,copyToClipboard:e$}),"admin"===I&&_?.is_admin&&(0,a.jsx)(el,{adminUsers:ej,configs:ey,adminWithdrawals:ew,adminTickets:eC,handleConfigUpdate:eU,handleDeleteUser:eV,handleProcessWithdrawal:eF,handleOpenTicket:(e,a)=>{alert(`Abriendo Ticket #${e} (Admin: ${a})`)},setActiveTab:G,mounted:z}),"admin_payments"===I&&_?.is_admin&&(0,a.jsx)(O,{pendingPayments:P,onValidatePayment:eG}),"admin_tax"===I&&_?.is_admin&&(0,a.jsx)(ee,{}),(0,a.jsxs)("footer",{className:"pt-10 border-t border-surface-border flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,a.jsx)("p",{className:"text-xs font-bold text-muted",children:"© 2024 TeleGate Inc. Todos los derechos reservados."}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsx)("a",{href:"#",className:"text-xs font-bold text-muted hover:text-primary transition-colors",children:" Términos "}),(0,a.jsx)("a",{href:"#",className:"text-xs font-bold text-muted hover:text-primary transition-colors",children:" Privacidad "}),(0,a.jsx)("a",{href:"#",className:"text-xs font-bold text-muted hover:text-primary transition-colors",children:" Soporte "}),(0,a.jsx)("span",{className:"text-xs font-bold text-muted",children:"v2.4.0 SaaS Edition"})]})]})]}),(0,a.jsx)(M,{isOpen:K,onClose:()=>Y(!1),onSubmit:ez,step:ec,createdChannel:em,copyToClipboard:e$}),ep&&(0,a.jsx)(Z,{isOpen:!!ep,onClose:()=>eu(null),channelId:ep.id,channelTitle:ep.title,onSuccess:()=>{eu(null),eA(!0)}}),J&&(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-background/90 backdrop-blur-md animate-in fade-in duration-300",children:(0,a.jsxs)("div",{className:"w-full max-w-xl premium-card p-10 space-y-6 animate-in zoom-in-95 shadow-2xl relative overflow-hidden",children:[(0,a.jsx)("h2",{className:"text-xl font-black uppercase tracking-tight",children:"Personalizar Branding"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-muted uppercase",children:"Mensaje de Bienvenida"}),(0,a.jsx)("input",{id:"b_welcome",type:"text",defaultValue:J.welcome_message,className:"w-full p-3 bg-background border border-surface-border rounded-xl font-bold"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-xs font-bold text-muted uppercase",children:"URL Logo"}),(0,a.jsx)("input",{id:"b_logo",type:"text",defaultValue:J.logo_url,className:"w-full p-3 bg-background border border-surface-border rounded-xl font-bold"})]}),(0,a.jsx)("button",{onClick:eO,className:"w-full py-3 bg-primary text-primary-foreground rounded-xl font-bold",children:"Guardar Personalización"}),(0,a.jsx)("button",{onClick:()=>Q(null),className:"w-full py-3 text-muted font-bold hover:text-foreground",children:"Cancelar"})]})]})}),ea&&(0,a.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-background/90 backdrop-blur-md animate-in fade-in duration-300 overflow-y-auto",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl premium-card p-10 space-y-8 animate-in zoom-in-95 duration-300 shadow-2xl border-primary/20 relative",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between border-b border-surface-border pb-6",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("h2",{className:"text-2xl font-black flex items-center gap-3 text-amber-500",children:[(0,a.jsx)(y.Ticket,{className:"w-8 h-8"})," Promociones: ",ea.title]})}),(0,a.jsx)("button",{onClick:()=>es(null),className:"px-4 py-2 font-bold text-muted hover:text-primary",children:"Cerrar"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[(0,a.jsx)("div",{className:"lg:col-span-1 space-y-6",children:(0,a.jsxs)("div",{className:"p-6 bg-background rounded-2xl border border-surface-border space-y-4",children:[(0,a.jsx)("h3",{className:"font-bold text-sm uppercase text-primary",children:"Nueva Oferta"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("input",{id:"p_code",placeholder:"CÓDIGO (EJ: VERANO)",className:"w-full p-3 bg-surface border border-surface-border rounded-xl font-bold uppercase outline-none focus:ring-1 ring-amber-500"}),(0,a.jsxs)("select",{id:"p_type",className:"w-full p-3 bg-surface border border-surface-border rounded-xl font-bold outline-none focus:ring-1 ring-amber-500",children:[(0,a.jsx)("option",{value:"discount",children:"Descuento (%)"}),(0,a.jsx)("option",{value:"trial",children:"Prueba Gratis (Días)"})]}),(0,a.jsx)("input",{id:"p_value",type:"number",step:"0.01",placeholder:"Valor (Ej: 0.5 o 7)",className:"w-full p-3 bg-surface border border-surface-border rounded-xl font-bold"}),(0,a.jsx)("input",{id:"p_max",type:"number",placeholder:"Límite Usos",className:"w-full p-3 bg-surface border border-surface-border rounded-xl font-bold"})]}),(0,a.jsx)("button",{onClick:()=>{let e=document.getElementById("p_code").value,a=document.getElementById("p_type").value,s=parseFloat(document.getElementById("p_value").value),t=document.getElementById("p_max").value;if(!e||!s)return alert("Completa los campos");eq(ea.id,{code:e,promo_type:a,value:s,max_uses:t?parseInt(t):null})},className:"w-full py-4 bg-amber-500 text-white rounded-xl font-bold hover:scale-[1.02] transition-all",children:"Crear Link"})]})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsx)("h3",{className:"font-bold text-sm uppercase text-primary",children:"Activos"}),(0,a.jsx)("div",{className:"space-y-2",children:ei.length>0?ei.map(e=>(0,a.jsxs)("div",{className:"p-4 border border-surface-border rounded-xl flex items-center justify-between hover:bg-surface/50",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-black text-lg text-amber-500",children:e.code}),(0,a.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-surface border font-black uppercase",children:e.promo_type})]}),(0,a.jsxs)("p",{className:"text-xs text-muted font-bold",children:["Usos: ",e.current_uses," / ",e.max_uses||"∞"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>e$(`https://t.me/FullT_GuardBot?start=${e.code}`),className:"p-2 text-muted hover:text-primary",children:(0,a.jsx)(m,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>eH(e.id),className:"p-2 text-red-500 hover:bg-red-500/10 rounded-lg",children:(0,a.jsx)(v.Trash2,{className:"w-4 h-4"})})]})]},e.id)):(0,a.jsx)("p",{className:"text-center text-muted font-bold p-10",children:"Sin promociones activas."})})]})]})]})}),(0,a.jsx)(en,{isOpen:!!et,onClose:()=>er(null),channel:et})]}):null}e.s(["default",()=>ed],30257)}]);