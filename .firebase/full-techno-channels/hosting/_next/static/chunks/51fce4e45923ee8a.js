(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},75254,e=>{"use strict";var t=e.i(71645);let a=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:n="",children:c,iconNode:d,...o},m)=>(0,t.createElement)("svg",{ref:m,...r,width:s,height:s,stroke:e,strokeWidth:i?24*Number(l)/Number(s):l,className:a("lucide",n),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(o)&&{"aria-hidden":"true"},...o},[...d.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(c)?c:[c]])),i=(e,r)=>{let i=(0,t.forwardRef)(({className:i,...n},c)=>(0,t.createElement)(l,{ref:c,iconNode:r,className:a(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...n}));return i.displayName=s(e),i};e.s(["default",()=>i],75254)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],25652)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},81418,e=>{"use strict";let t=(0,e.i(75254).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],81418)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},21557,e=>{"use strict";let t=(0,e.i(75254).default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);e.s(["Calculator",()=>t],21557)},50627,7233,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);e.s(["Receipt",()=>a],50627);let s=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233)},27612,e=>{"use strict";let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],27612)},35408,e=>{"use strict";let t=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);e.s(["TrendingDown",()=>t],35408)},78894,e=>{"use strict";let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},7268,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(21557),l=e.i(50627),i=e.i(87316),n=e.i(81418),c=e.i(7233),d=e.i(27612),o=e.i(71689),m=e.i(31278),x=e.i(35408),p=e.i(25652),h=e.i(78894),u=e.i(95468),y=e.i(9165);function g(){let e=(0,s.useRouter)(),[u,g]=(0,a.useState)(null),[j,b]=(0,a.useState)([]),[N,v]=(0,a.useState)(!0),[k,w]=(0,a.useState)(new Date().getFullYear()),[C,M]=(0,a.useState)(!1),[S,A]=(0,a.useState)({description:"",amount:"",category:"Software",date:new Date().toISOString().split("T")[0]});(0,a.useEffect)(()=>{T()},[k]);let T=async()=>{try{v(!0);let[e,t]=await Promise.all([y.adminApi.getTaxSummary(k),y.adminApi.getExpenses(k)]);g(e),b(t)}catch(t){console.error("Error fetching tax data:",t),t instanceof Error&&t.message.includes("403")&&e.push("/dashboard")}finally{v(!1)}},E=async e=>{e.preventDefault();try{await y.adminApi.createExpense({...S,amount:parseFloat(S.amount)}),M(!1),A({description:"",amount:"",category:"Software",date:new Date().toISOString().split("T")[0]}),T()}catch(e){alert("Error al guardar gasto")}},L=async e=>{if(confirm("¿Eliminar este gasto?"))try{await y.adminApi.deleteExpense(e),T()}catch(e){alert("Error al eliminar")}};return N&&!u?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,t.jsx)(m.Loader2,{className:"w-8 h-8 text-primary animate-spin"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground p-6 md:p-12",children:[(0,t.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8 animate-fade-in",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/dashboard"),className:"flex items-center gap-2 text-sm text-muted hover:text-primary transition-colors mb-2",children:[(0,t.jsx)(o.ArrowLeft,{className:"w-4 h-4"})," Volver al Dashboard"]}),(0,t.jsxs)("h1",{className:"text-4xl font-black tracking-tight",children:["Admin ",(0,t.jsx)("span",{className:"gradient-text",children:"Tax Hub"})]}),(0,t.jsx)("p",{className:"text-muted font-medium",children:"Gestión fiscal personal para el dueño de FGate"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("select",{value:k,onChange:e=>w(parseInt(e.target.value)),className:"bg-surface border border-primary/20 rounded-xl px-4 py-2 font-bold outline-none focus:ring-2 ring-primary/50",children:[(0,t.jsx)("option",{value:2024,children:"Año Fiscal 2024"}),(0,t.jsx)("option",{value:2025,children:"Año Fiscal 2025"}),(0,t.jsx)("option",{value:2026,children:"Año Fiscal 2026"})]}),(0,t.jsxs)("button",{onClick:()=>M(!0),className:"premium-button py-2 flex items-center gap-2",children:[(0,t.jsx)(c.Plus,{className:"w-5 h-5"})," Nuevo Gasto"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"premium-card p-6 border-emerald-500/20 bg-emerald-500/5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-emerald-500/10 rounded-xl",children:(0,t.jsx)(p.TrendingUp,{className:"w-6 h-6 text-emerald-500"})}),(0,t.jsx)("span",{className:"text-xs font-bold text-emerald-500/60 uppercase tracking-widest",children:"Gross Revenue"})]}),(0,t.jsxs)("h3",{className:"text-3xl font-black",children:["$",u?.gross_revenue?.toLocaleString()||"0.00"]}),(0,t.jsx)("p",{className:"text-sm text-muted mt-1 font-medium",children:"Ingresos de plataforma"})]}),(0,t.jsxs)("div",{className:"premium-card p-6 border-red-500/20 bg-red-500/5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-red-500/10 rounded-xl",children:(0,t.jsx)(x.TrendingDown,{className:"w-6 h-6 text-red-500"})}),(0,t.jsx)("span",{className:"text-xs font-bold text-red-500/60 uppercase tracking-widest",children:"Business Expenses"})]}),(0,t.jsxs)("h3",{className:"text-3xl font-black",children:["-$",u?.total_expenses?.toLocaleString()||"0.00"]}),(0,t.jsx)("p",{className:"text-sm text-muted mt-1 font-medium",children:"Deducibles registrados"})]}),(0,t.jsxs)("div",{className:"premium-card p-6 border-primary/20 bg-primary/5 ring-2 ring-primary/20 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:(0,t.jsx)(n.ShieldCheck,{className:"w-24 h-24 text-primary"})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-3 bg-primary/10 rounded-xl",children:(0,t.jsx)(r.Calculator,{className:"w-6 h-6 text-primary"})}),(0,t.jsx)("span",{className:"text-xs font-bold text-primary/60 uppercase tracking-widest",children:"Estimated Net Income"})]}),(0,t.jsxs)("h3",{className:"text-3xl font-black",children:["$",u?.net_income?.toLocaleString()||"0.00"]}),(0,t.jsx)("p",{className:"text-sm text-muted mt-1 font-medium",children:"Ganancia real antes de impuestos"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("h2",{className:"text-2xl font-black flex items-center gap-2",children:[(0,t.jsx)(l.Receipt,{className:"w-6 h-6 text-primary"})," Historial de Gastos"]})}),(0,t.jsx)("div",{className:"premium-card overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-surface/50 border-b border-primary/10",children:(0,t.jsxs)("tr",{className:"text-xs font-bold text-muted-foreground uppercase tracking-wider",children:[(0,t.jsx)("th",{className:"px-6 py-4",children:"Fecha"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Descripción"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Categoría"}),(0,t.jsx)("th",{className:"px-6 py-4 text-right",children:"Monto"}),(0,t.jsx)("th",{className:"px-6 py-4"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-primary/5",children:j.length>0?j.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-primary/5 transition-colors group",children:[(0,t.jsx)("td",{className:"px-6 py-4 text-sm font-bold opacity-60",children:new Date(e.date).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-6 py-4 font-bold",children:e.description}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 bg-surface border border-primary/10 rounded-full text-xs font-bold",children:e.category})}),(0,t.jsxs)("td",{className:"px-6 py-4 text-right font-black text-red-400",children:["-$",e.amount.toFixed(2)]}),(0,t.jsx)("td",{className:"px-6 py-4 text-right",children:(0,t.jsx)("button",{onClick:()=>L(e.id),className:"p-2 text-muted hover:text-red-500 transition-colors opacity-0 group-hover:opacity-100",children:(0,t.jsx)(d.Trash2,{className:"w-4 h-4"})})})]},e.id)):(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"px-6 py-12 text-center text-muted font-medium italic",children:"No hay gastos registrados en este año."})})})]})})})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-black flex items-center gap-2",children:[(0,t.jsx)(i.Calendar,{className:"w-6 h-6 text-primary"})," US Compliance Checklist"]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(f,{title:"Form 5472 & 1120",date:"Abril 15, 2026",desc:"Reporte informativo anual para dueños extranjeros.",status:"pending"}),(0,t.jsx)(f,{title:"Annual Report (Wyoming/Delaware)",date:"Mayo 01, 2026",desc:"Renovación de la entidad con el estado.",status:"pending"}),(0,t.jsx)(f,{title:"Registered Agent Renewal",date:"Variable",desc:"Pago anual al agente registrado en USA.",status:"completed"}),(0,t.jsxs)("div",{className:"p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-2xl flex gap-3 text-yellow-500 text-sm italic font-medium",children:[(0,t.jsx)(h.AlertTriangle,{className:"w-5 h-5 flex-shrink-0"}),(0,t.jsx)("span",{children:"No brindamos asesoría legal ni contable. Consulta con tu contador para los formularios finales."})]})]})]})]})]}),C&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-background/80 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"premium-card w-full max-w-md p-8 shadow-2xl animate-scale-up",children:[(0,t.jsx)("h2",{className:"text-2xl font-black mb-6",children:"Registrar Nuevo Gasto"}),(0,t.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-muted",children:"Descripción"}),(0,t.jsx)("input",{type:"text",required:!0,value:S.description,onChange:e=>A({...S,description:e.target.value}),className:"w-full bg-surface border border-primary/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50",placeholder:"Ej: Hosting Vercel"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-muted",children:"Monto (USD)"}),(0,t.jsx)("input",{type:"number",step:"0.01",required:!0,value:S.amount,onChange:e=>A({...S,amount:e.target.value}),className:"w-full bg-surface border border-primary/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50",placeholder:"0.00"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-muted",children:"Fecha"}),(0,t.jsx)("input",{type:"date",required:!0,value:S.date,onChange:e=>A({...S,date:e.target.value}),className:"w-full bg-surface border border-primary/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50 text-foreground"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-bold text-muted",children:"Categoría"}),(0,t.jsxs)("select",{value:S.category,onChange:e=>A({...S,category:e.target.value}),className:"w-full bg-surface border border-primary/10 rounded-xl px-4 py-3 outline-none focus:ring-2 ring-primary/50",children:[(0,t.jsx)("option",{children:"Software"}),(0,t.jsx)("option",{children:"Legal/Professional"}),(0,t.jsx)("option",{children:"Marketing/Ads"}),(0,t.jsx)("option",{children:"Withdrawal Fees"}),(0,t.jsx)("option",{children:"Other"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>M(!1),className:"flex-1 py-3 font-bold text-muted hover:text-foreground transition-colors",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 premium-button py-3",children:"Guardar Gasto"})]})]})]})})]})}function f({title:e,date:a,desc:s,status:r}){return(0,t.jsxs)("div",{className:`p-5 premium-card ${"completed"===r?"opacity-60 grayscale":"ring-1 ring-primary/20"}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"text-xs font-black uppercase text-primary tracking-widest",children:a}),"completed"===r?(0,t.jsxs)("span",{className:"flex items-center gap-1 text-[10px] font-black text-emerald-500 uppercase px-2 py-1 bg-emerald-500/10 rounded",children:[(0,t.jsx)(u.CheckCircle2,{className:"w-3 h-3"})," Hecho"]}):(0,t.jsx)("span",{className:"text-[10px] font-black text-yellow-500 uppercase px-2 py-1 bg-yellow-500/10 rounded",children:"Pendiente"})]}),(0,t.jsx)("h4",{className:"font-bold text-lg",children:e}),(0,t.jsx)("p",{className:"text-sm text-muted mt-1 leading-relaxed",children:s})]})}e.s(["default",()=>g])}]);